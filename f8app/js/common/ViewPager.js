/**
 * Copyright 2016 Facebook, Inc.
 *
 * You are hereby granted a non-exclusive, worldwide, royalty-free license to
 * use, copy, modify, and distribute this software in source code or binary
 * form for use in connection with the web services and APIs provided by
 * Facebook.
 *
 * As with any software that integrates with the Facebook platform, your use
 * of this software is subject to the Facebook Developer Principles and
 * Policies [http://developers.facebook.com/policy/]. This copyright notice
 * shall be included in all copies or substantial portions of the software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE
 *
 * @flow
 */'use strict';var cov_198nwso0k=function(){var path='common/ViewPager.js',hash='d213b19628e3e39e3426a1645fd0468b40a37943',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'common/ViewPager.js',statementMap:{'0':{start:{line:26,column:14},end:{line:26,column:30}},'1':{start:{line:34,column:4},end:{line:34,column:27}},'2':{start:{line:58,column:4},end:{line:58,column:17}},'3':{start:{line:59,column:4},end:{line:65,column:6}},'4':{start:{line:66,column:4},end:{line:66,column:80}},'5':{start:{line:67,column:4},end:{line:67,column:64}},'6':{start:{line:71,column:4},end:{line:75,column:5}},'7':{start:{line:72,column:6},end:{line:72,column:30}},'8':{start:{line:74,column:6},end:{line:74,column:34}},'9':{start:{line:79,column:4},end:{line:101,column:6}},'10':{start:{line:105,column:4},end:{line:113,column:6}},'11':{start:{line:117,column:4},end:{line:120,column:7}},'12':{start:{line:124,column:4},end:{line:135,column:5}},'13':{start:{line:125,column:6},end:{line:134,column:7}},'14':{start:{line:126,column:8},end:{line:129,column:11}},'15':{start:{line:130,column:8},end:{line:130,column:62}},'16':{start:{line:132,column:8},end:{line:132,column:62}},'17':{start:{line:133,column:8},end:{line:133,column:64}},'18':{start:{line:139,column:26},end:{line:139,column:36}},'19':{start:{line:140,column:16},end:{line:140,column:52}},'20':{start:{line:141,column:4},end:{line:145,column:7}},'21':{start:{line:142,column:6},end:{line:144,column:13}},'22':{start:{line:149,column:24},end:{line:149,column:46}},'23':{start:{line:150,column:4},end:{line:154,column:5}},'24':{start:{line:151,column:6},end:{line:153,column:8}},'25':{start:{line:155,column:4},end:{line:157,column:5}},'26':{start:{line:156,column:6},end:{line:156,column:13}},'27':{start:{line:158,column:4},end:{line:160,column:5}},'28':{start:{line:159,column:6},end:{line:159,column:13}},'29':{start:{line:161,column:4},end:{line:165,column:5}},'30':{start:{line:162,column:6},end:{line:162,column:56}},'31':{start:{line:163,column:38},end:{line:163,column:48}},'32':{start:{line:164,column:6},end:{line:164,column:68}},'33':{start:{line:169,column:13},end:{line:180,column:2}},'34':{start:{line:182,column:0},end:{line:182,column:27}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:28},end:{line:68,column:3}},line:57},'1':{name:'(anonymous_1)',decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:11},end:{line:76,column:3}},line:70},'2':{name:'(anonymous_2)',decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:14},end:{line:102,column:3}},line:78},'3':{name:'(anonymous_3)',decl:{start:{line:104,column:2},end:{line:104,column:3}},loc:{start:{line:104,column:18},end:{line:114,column:3}},line:104},'4':{name:'(anonymous_4)',decl:{start:{line:116,column:2},end:{line:116,column:3}},loc:{start:{line:116,column:25},end:{line:121,column:3}},line:116},'5':{name:'(anonymous_5)',decl:{start:{line:123,column:2},end:{line:123,column:3}},loc:{start:{line:123,column:46},end:{line:136,column:3}},line:123},'6':{name:'(anonymous_6)',decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:39},end:{line:146,column:3}},line:138},'7':{name:'(anonymous_7)',decl:{start:{line:141,column:51},end:{line:141,column:52}},loc:{start:{line:142,column:6},end:{line:144,column:13}},line:142},'8':{name:'(anonymous_8)',decl:{start:{line:148,column:2},end:{line:148,column:3}},loc:{start:{line:148,column:33},end:{line:166,column:3}},line:148}},branchMap:{'0':{loc:{start:{line:71,column:4},end:{line:75,column:5}},type:'if',locations:[{start:{line:71,column:4},end:{line:75,column:5}},{start:{line:71,column:4},end:{line:75,column:5}}],line:71},'1':{loc:{start:{line:124,column:4},end:{line:135,column:5}},type:'if',locations:[{start:{line:124,column:4},end:{line:135,column:5}},{start:{line:124,column:4},end:{line:135,column:5}}],line:124},'2':{loc:{start:{line:125,column:6},end:{line:134,column:7}},type:'if',locations:[{start:{line:125,column:6},end:{line:134,column:7}},{start:{line:125,column:6},end:{line:134,column:7}}],line:125},'3':{loc:{start:{line:140,column:16},end:{line:140,column:52}},type:'binary-expr',locations:[{start:{line:140,column:16},end:{line:140,column:37}},{start:{line:140,column:41},end:{line:140,column:52}}],line:140},'4':{loc:{start:{line:150,column:4},end:{line:154,column:5}},type:'if',locations:[{start:{line:150,column:4},end:{line:154,column:5}},{start:{line:150,column:4},end:{line:154,column:5}}],line:150},'5':{loc:{start:{line:155,column:4},end:{line:157,column:5}},type:'if',locations:[{start:{line:155,column:4},end:{line:157,column:5}},{start:{line:155,column:4},end:{line:157,column:5}}],line:155},'6':{loc:{start:{line:155,column:8},end:{line:155,column:62}},type:'binary-expr',locations:[{start:{line:155,column:8},end:{line:155,column:25}},{start:{line:155,column:29},end:{line:155,column:62}}],line:155},'7':{loc:{start:{line:158,column:4},end:{line:160,column:5}},type:'if',locations:[{start:{line:158,column:4},end:{line:160,column:5}},{start:{line:158,column:4},end:{line:160,column:5}}],line:158},'8':{loc:{start:{line:158,column:8},end:{line:158,column:83}},type:'binary-expr',locations:[{start:{line:158,column:8},end:{line:158,column:39}},{start:{line:158,column:43},end:{line:158,column:83}}],line:158},'9':{loc:{start:{line:161,column:4},end:{line:165,column:5}},type:'if',locations:[{start:{line:161,column:4},end:{line:165,column:5}},{start:{line:161,column:4},end:{line:165,column:5}}],line:161},'10':{loc:{start:{line:161,column:8},end:{line:161,column:85}},type:'binary-expr',locations:[{start:{line:161,column:8},end:{line:161,column:50}},{start:{line:161,column:54},end:{line:161,column:85}}],line:161},'11':{loc:{start:{line:164,column:6},end:{line:164,column:67}},type:'binary-expr',locations:[{start:{line:164,column:6},end:{line:164,column:27}},{start:{line:164,column:31},end:{line:164,column:67}}],line:164}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const React=(++cov_198nwso0k.s[0],require('react'));const{View,StyleSheet,ScrollView,ViewPagerAndroid,Platform}=(++cov_198nwso0k.s[1],require('react-native'));type Props={count:number;selectedIndex:number;onSelectedIndexChange?:(index:number)=>void;bounces?:boolean;children?:any;style?:any;};type State={width:number;height:number;selectedIndex:number;initialSelectedIndex:number;scrollingTo:?number;};class ViewPager extends React.Component{props:Props;state:State;constructor(props:Props){++cov_198nwso0k.f[0];++cov_198nwso0k.s[2];super(props);++cov_198nwso0k.s[3];this.state={width:0,height:0,selectedIndex:this.props.selectedIndex,initialSelectedIndex:this.props.selectedIndex,scrollingTo:null};++cov_198nwso0k.s[4];(this:any).handleHorizontalScroll=this.handleHorizontalScroll.bind(this);++cov_198nwso0k.s[5];(this:any).adjustCardSize=this.adjustCardSize.bind(this);}render(){++cov_198nwso0k.f[1];++cov_198nwso0k.s[6];if(Platform.OS==='ios'){++cov_198nwso0k.b[0][0];++cov_198nwso0k.s[7];return this.renderIOS();}else{++cov_198nwso0k.b[0][1];++cov_198nwso0k.s[8];return this.renderAndroid();}}renderIOS(){++cov_198nwso0k.f[2];++cov_198nwso0k.s[9];return<ScrollView ref="scrollview"contentOffset={{x:this.state.width*this.state.initialSelectedIndex,y:0}}style={[styles.scrollview,this.props.style]}horizontal={true}pagingEnabled={true}bounces={!!this.props.bounces}scrollsToTop={false}onScroll={this.handleHorizontalScroll}scrollEventThrottle={100}removeClippedSubviews={true}automaticallyAdjustContentInsets={false}directionalLockEnabled={true}showsHorizontalScrollIndicator={false}showsVerticalScrollIndicator={false}onLayout={this.adjustCardSize}>
        {this.renderContent()}
      </ScrollView>;}renderAndroid(){++cov_198nwso0k.f[3];++cov_198nwso0k.s[10];return<ViewPagerAndroid ref="scrollview"initialPage={this.state.initialSelectedIndex}onPageSelected={this.handleHorizontalScroll}style={styles.container}>
        {this.renderContent()}
      </ViewPagerAndroid>;}adjustCardSize(e:any){++cov_198nwso0k.f[4];++cov_198nwso0k.s[11];this.setState({width:e.nativeEvent.layout.width,height:e.nativeEvent.layout.height});}componentWillReceiveProps(nextProps:Props){++cov_198nwso0k.f[5];++cov_198nwso0k.s[12];if(nextProps.selectedIndex!==this.state.selectedIndex){++cov_198nwso0k.b[1][0];++cov_198nwso0k.s[13];if(Platform.OS==='ios'){++cov_198nwso0k.b[2][0];++cov_198nwso0k.s[14];this.refs.scrollview.scrollTo({x:nextProps.selectedIndex*this.state.width,animated:true});++cov_198nwso0k.s[15];this.setState({scrollingTo:nextProps.selectedIndex});}else{++cov_198nwso0k.b[2][1];++cov_198nwso0k.s[16];this.refs.scrollview.setPage(nextProps.selectedIndex);++cov_198nwso0k.s[17];this.setState({selectedIndex:nextProps.selectedIndex});}}else{++cov_198nwso0k.b[1][1];}}renderContent():Array<ReactElement>{++cov_198nwso0k.f[6];var{width,height}=(++cov_198nwso0k.s[18],this.state);var style=(++cov_198nwso0k.s[19],(++cov_198nwso0k.b[3][0],Platform.OS==='ios')&&(++cov_198nwso0k.b[3][1],styles.card));++cov_198nwso0k.s[20];return React.Children.map(this.props.children,(child,i)=>{++cov_198nwso0k.f[7];++cov_198nwso0k.s[21];return<View style={[style,{width,height}]}key={'r_'+i}>
        {child}
      </View>;});}handleHorizontalScroll(e:any){++cov_198nwso0k.f[8];var selectedIndex=(++cov_198nwso0k.s[22],e.nativeEvent.position);++cov_198nwso0k.s[23];if(selectedIndex===undefined){++cov_198nwso0k.b[4][0];++cov_198nwso0k.s[24];selectedIndex=Math.round(e.nativeEvent.contentOffset.x/this.state.width);}else{++cov_198nwso0k.b[4][1];}++cov_198nwso0k.s[25];if((++cov_198nwso0k.b[6][0],selectedIndex<0)||(++cov_198nwso0k.b[6][1],selectedIndex>=this.props.count)){++cov_198nwso0k.b[5][0];++cov_198nwso0k.s[26];return;}else{++cov_198nwso0k.b[5][1];}++cov_198nwso0k.s[27];if((++cov_198nwso0k.b[8][0],this.state.scrollingTo!==null)&&(++cov_198nwso0k.b[8][1],this.state.scrollingTo!==selectedIndex)){++cov_198nwso0k.b[7][0];++cov_198nwso0k.s[28];return;}else{++cov_198nwso0k.b[7][1];}++cov_198nwso0k.s[29];if((++cov_198nwso0k.b[10][0],this.props.selectedIndex!==selectedIndex)||(++cov_198nwso0k.b[10][1],this.state.scrollingTo!==null)){++cov_198nwso0k.b[9][0];++cov_198nwso0k.s[30];this.setState({selectedIndex,scrollingTo:null});const{onSelectedIndexChange}=(++cov_198nwso0k.s[31],this.props);++cov_198nwso0k.s[32];(++cov_198nwso0k.b[11][0],onSelectedIndexChange)&&(++cov_198nwso0k.b[11][1],onSelectedIndexChange(selectedIndex));}else{++cov_198nwso0k.b[9][1];}}}var styles=(++cov_198nwso0k.s[33],StyleSheet.create({container:{flex:1},scrollview:{flex:1,backgroundColor:'transparent'},card:{backgroundColor:'transparent'}}));++cov_198nwso0k.s[34];module.exports=ViewPager;